<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <head>
        <title>All users</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <body>
        <h:form>
            <h:commandLink value="Create New" action="#{users.prepareCreate()}" immediate="true">
        </h:commandLink>
        <h:dataTable value="#{users.allUsers}" var="item" class="table-1">
            <h:column>
                <f:facet name="header">User Id</f:facet>
                    #{item.uid}
            </h:column>
            
            <h:column>
                <f:facet name="header">First Name</f:facet>
                    #{item.fname}
            </h:column>
            <h:column>
                <f:facet name="header">Last Name</f:facet>
                    #{item.lname}
            </h:column>
            <h:column>
                <f:facet name="header">Balance</f:facet>
                    #{item.balance}
            </h:column>
            <h:column>
                <f:facet name="header">Type</f:facet>
                    #{item.type}
            </h:column>
            <h:column>
                <f:facet name="header">Phone Number</f:facet>
                    #{item.phoneNo}
            </h:column>
            
            <h:column>
                <f:facet name="header">Email</f:facet>
                    #{item.email}
            </h:column>
            <h:column>
                <f:facet name="header">Address</f:facet>
                    #{item.address}
            </h:column>
            <h:column>
                <f:facet name="header">Action</f:facet>
                <h:commandLink value="View" action="#{users.prepareView(item.uid)}" immediate="true"/> | 
                <h:commandLink value="Edit" action="#{users.prepareEdit(item.uid)}" immediate="true"/> | 
                <h:commandLink value="Delete" action="#{users.removeUser(item.uid)}" immediate="true">
                </h:commandLink>
            </h:column>
        </h:dataTable>
            <h:commandLink value="Home page" action="#{users.back()}"></h:commandLink>
        <h:outputScript rendered="#{!users.removable}">
            alert("You can't delete it.");
        </h:outputScript>
        </h:form>
    </body>
</html>
